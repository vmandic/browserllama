---
description: This rule is applied when a LLM agent needs to do git operations
alwaysApply: false
---
# Commit Organization and Style

This rule defines how to organize changed code into meaningful commits and how to write commit titles so history stays clear and easy to scan.

## Commit title

- **Length:** Up to **75 characters** (including the type prefix).
- **Format:** Start the title with either:
  - **Type only:** `type: summary` (e.g. `feat: add model selector to popup`)
  - **Task-scoped type:** `type-id: summary` (e.g. `feat-1: improve popup first-load UX`)

## Allowed types

Use exactly one of these prefixes (lowercase):

- **feat** – New feature or user-facing capability.
- **fix** – Bug fix (user-facing or behavioral).
- **bugfix** – Same as fix; use for consistency if the project prefers it.
- **refactor** – Code change that neither fixes a bug nor adds a feature (restructure, rename, simplify).
- **improvement** – Enhancement of existing behavior or code quality (non-breaking).
- **chore** – Maintenance: deps, config, tooling, no code behavior change.
- **tech** – Technical or internal change (e.g. scripts, CI, build).
- **docs** – Documentation only (README, AGENTS.md, comments, .llm rules).

Task-scoped IDs:
- You may append a task number to any allowed type using `-<number>`.
- Example: `feat-1: ...`, `chore-2: ...`, `docs-3: ...`.
- Task numbers are plain integers (no zero-padding).

## Organizing changes into commits

- **One logical change per commit.** Group edits that belong together (e.g. one fix and its test, one small feature).
- **Split unrelated changes** into separate commits (e.g. a refactor in one commit, a new feature in another).
- **Order commits** so the history reads clearly: e.g. refactor first, then feat, or fix then test update.
- **Avoid** "fix everything" or "wip" commits; prefer small, reviewable units.

## Title examples

- `feat: add Enter key to send message from popup`
- `feat-1: improve popup first-load UX`
- `fix: return true in onMessage when using async sendResponse`
- `refactor: move Ollama payload build into src/lib/ollama.js`
- `chore: add vitest and playwright configs`
- `docs: point AGENTS.md to .llm/rules`

## Body (optional)

- Use a commit body for "why" or multiple bullets when the title alone is not enough. Keep the first line (title) under 75 characters; body lines can wrap at 72 if desired.
